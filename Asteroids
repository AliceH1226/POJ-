//https://cloud.tencent.com/developer/article/1381552
//http://poj.org/problem?id=3041






#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;



int n,m,sum;
int vis[10005][10005];
int vis2[10005];
int b[10005];


bool Find(int x)
{
    for(int i=1;i<=n;i++)
    {
        if(vis[x][i]&&!vis2[i])
        {
            vis2[i]=1;
            if(b[i]==0||Find(b[i]))
            {
                b[i]=x;
                return true;
            }
        }
    }
    return false;
}
int main()
{
    scanf("%d%d",&n,&m);
    for(int i=0;i<m;i++)
    {
        int x,y;
        cin>>x>>y;
        vis[x][y]=1;

    }
    sum=0;
    memset(b,0,sizeof(b));
    for(int i=1;i<=n;i++)
    {
        memset(vis2,0,sizeof(vis2));
        if(Find(i))sum++;

    }
    cout<<sum<<endl;
}
